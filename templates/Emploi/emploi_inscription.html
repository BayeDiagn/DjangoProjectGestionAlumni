{% extends "index.html" %}


{% block contenu %}
<form class="mt-10 sm:mx-auto sm:w-full sm:max-w-lg"  method="post">
    {% csrf_token %} 
    <div class="sm:mx-auto sm:w-full sm:max-w-sm">
        <h2 class="mt-5 text-center text-2xl font-bold leading-9 tracking-tight text-gray-500">Parcours Professionnel</h2>
    </div>

    <div class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
        <div class="sm:col-span-full">  
            <label for="entrep" class="block text-sm font-medium leading-6 text-gray-900">Nom de l'entreprise</label>
            <div class="mt-2">
              <input type="text" name="entreprise" id="entrep" autocomplete="given-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" required>
            </div>
        </div>
  
        <div class="sm:col-span-full">
            <label for="typec" class="block text-sm font-medium leading-6 text-gray-900">Type de Contrat</label>
            <div class="mt-2">
                <select name="typecont"  autocomplete="family-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" required>
                    <option value="" {% if not form.typecont.value %}selected{% endif %} class="text-gray-300">Stage, CDD...</option>
                    {% for typec in form.typecont.field.choices %}
                      <option value="{{ typec.0 }}">{{ typec.1 }}</option>  
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="sm:col-span-full">
            <label for="post" class="block text-sm font-medium leading-6 text-gray-900">Intitulé de poste</label>
            <div class="mt-2">
              <input type="text" name="poste" id="post" autocomplete="family-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" required>
            </div>
        </div>

        <div class="sm:col-span-full">
            
            <div class="mt-2 mb-3">
                <input id="check" type="checkbox" class="before:content[''] peer relative h-5 w-5 cursor-pointer appearance-none rounded-md border border-blue-gray-200 transition-all before:absolute before:top-2/4 before:left-2/4 before:block before:h-12 before:w-12 before:-translate-y-2/4 before:-translate-x-2/4 before:rounded-full before:bg-blue-gray-500 before:opacity-0 before:transition-opacity checked:border-blue-500 checked:bg-blue-500 checked:before:bg-blue-500 hover:before:opacity-10" />
                <label class="mt-8  ml-3 font-light font-medium  text-gray-500 cursor-pointer select-none" for="login"> J'occupe acctuellement ce poste </label>
            </div>
        </div>
     
        <div class="sm:col-span-3">
            <label for="moisdatedebut" class=" block text-sm font-medium leading-6 text-gray-900">Date de debut</label>
            <div class="mt-2">
                <select name="mois_date_debut" autocomplete="family-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Mois" required>
                    <option value="" {% if not form.mois_date_debut.value %}selected{% endif %}>Mois</option>
                    {% for mois in form.mois_date_debut.field.choices %}
                      <option value="{{ mois.0 }}">{{ mois.1 }}</option>  
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="sm:col-span-3">
            <div class="mt-2">
                <select name="annee_date_debut" autocomplete="family-name" class="block w-full mt-8 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Mois" required>
                    <option value="" {% if not form.annee_date_debut.value %}selected{% endif %}>Année</option>
                    {% for annee in form.annee_date_debut.field.choices %}
                      <option value="{{ annee.0 }}">{{ annee.1 }}</option>  
                    {% endfor %}
                    </select>
            </div>
         </div>

         <div class="sm:col-span-3">
            <label for="moisdatefin" class="block text-sm font-medium leading-6 text-gray-900">Date de fin</label>
            <div class="mt-2">
                <select name="mois_date_fin" id="moisdatefin" autocomplete="family-name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Mois" required>
                    <option value="" {% if not form.mois_date_fin.value %}selected{% endif %}>Mois</option>
                    {% for mois in form.mois_date_fin.field.choices %}
                      <option value="{{ mois.0 }}">{{ mois.1 }}</option>  
                    {% endfor %}
                    </select>
            </div>
        </div>

        <div class="sm:col-span-3">
            <div class="mt-2">
                <select name="annee_date_fin" id="anneedatefin" autocomplete="family-name" class="block w-full mt-8 rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Mois" required>
                    <option value="" {% if not form.annee_date_fin.value %}selected{% endif %}>Année</option>
                    {% for annee in form.annee_date_fin.field.choices %}
                      <option value="{{ annee.0 }}">{{ annee.1 }}</option>  
                    {% endfor %}
                    </select>
            </div>
        </div>

        <div class="sm:col-span-full">
            <div class="mt-10 pt-10">
              <textarea name="description" rows="3" placeholder="Description du poste." class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" ></textarea>
            </div>
        </div>

        <div class="mt-19 mb-20 pt-12  ml-20 flex items-center justify-center gap-x-6 mx-auto">
            <button type="submit"class=" ml-11 middle none center mr-4 rounded-lg bg-green-400 py-3 px-6 font-sans text-xs font-bold uppercase text-white transition-all hover:shadow-lg hover:shadow-green-400/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.65] active:shadow-none disabled:pointer-events-none">
            Ajouter
            </button>
            <a href="{% url 'competence' etudiant.id %}" class="middle none center mr-4 rounded-lg bg-blue-500 py-3 px-6 font-sans text-xs font-bold uppercase text-white transition-all hover:shadow-lg hover:shadow-blue-400/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.65] active:shadow-none disabled:pointer-events-none"> 
            Suivant </a>
        </div>

    </div>


</form>
  
<!-- template.html -->

<script>
    const check = document.getElementById("check");
    const moisdatefin = document.getElementById("moisdatefin"); 
    const anneedatefin = document.getElementById("anneedatefin");
    
    check.addEventListener('change', () => {
      moisdatefin.disabled = check.checked;
      anneedatefin.disabled = check.checked; 

      moisdatefin.style.opacity = moisdatefin.disabled ? 0.5 : 1;
      anneedatefin.style.opacity = anneedatefin.disabled ? 0.5 : 1;
    });
</script>

    <!--form action="" method="POST">
    {% csrf_token %}


        <!div class="row">
            <div class="col-md-6" style="margin-top:20px;">
                <label for="entrepriseinput" class="form-label">Nom lde l'entreprise</label>
                <input type="text" name="entreprise" class="form-control form-control-sm" id="entrepriseinput" placeholder="Orange" required>
            </div>
            <div class="col-md-6" style="margin-top:25px;">
                <label for="typecontinput" class="form-label">Type de Contrat</label>
                <input type="text" name="typecont" class="form-control form-control-sm" id="typecontinput" placeholder="CDI" required>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6" style="margin-top:25px;">
                <label for="posteinput" class="form-label">Intitulé de poste</label>
                <input type="text" name="poste" class="form-control form-control-sm" id="posteinput" placeholder="Administrateur Systéme" required>
            </div>
      
            <div class="col-md-6" style="margin-top:25px;">
                <label for="anneedebutinput" class="form-label">Année de Debut</label>
                <input type="date" name="anneedebut" class="form-control form-control-sm" id="anneedebutinput" required>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6" style="margin-top:25px;">
                <label for="anneefininput" class="form-label">Année de Fin</label>
                <input type="date" name="anneeFin" class="form-control form-control-sm" id="anneefininput" required>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 champ"style="margin-top:60px;">
                <textarea class="form-control form-control-sm" rows="5" name="description" placeholder="Description"></textarea>
            </div>
        </div>


        <div class="row" style="display: flex; justify-content: end;"> 
            <div class="col-md-3 "style="margin-top:80px;">
                <button type="submit" class="btn btn-success">Ajouter</button>
                <a href="{% url 'competence' etudiant.id %}" class="btn btn-primary"> Suivant </a>
             </div>          
            
        </div>

      </form-->  

{% endblock %}